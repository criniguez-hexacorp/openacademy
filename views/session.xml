<?xml version='1.0' encoding='utf-8'?>
<odoo>
  <data>

    <!-- form view -->
    <record id="session_view_form" model="ir.ui.view">
      <field name="name">openacademy.session.view.form</field>
      <field name="model">openacademy.session</field>
      <field name="arch" type="xml">
        <form string="Session Form">
          <sheet>
            <group>
              <group string="General">
                <field name="course_id" />
                <field name="name" />
                <field name="instructor_id" />
                <field name="active" />
              </group>
              <group string="Schedule">
                <field name="start_date" />
                <field name="duration" />
                <field name="seats" />
                <field name="taken_seats" widget="progressbar" />
              </group>
            </group>
            <label for="attendee_ids" />
            <field name="attendee_ids" />
          </sheet>
        </form>
      </field>
    </record>

    <!-- tree view -->
    <record id="session_view_tree" model="ir.ui.view">
      <field name="name">openacademy.session.view.tree</field>
      <field name="model">openacademy.session</field>
      <field name="arch" type="xml">
        <tree string="Session tree" decoration-info="duration&lt;5" decoration-danger="duration&gt;15">
          <field name="name" />
          <field name="course_id" />
          <field name="duration" invisible="1" />
          <field name="taken_seats" widget="progressbar" />
        </tree>
      </field>
    </record>

    <!-- calendar view -->
    <record id="session_view_calendar" model="ir.ui.view">
      <field name="name">openacademy.session.view.calendar</field>
      <field name="model">openacademy.session</field>
      <field name="arch" type="xml">
        <calendar string="Session Calendar" date_start="start_date" date_stop="end_date" color="instructor_id">
          <field name="name" />
        </calendar>
      </field>
    </record>

    <!-- gantt view -->
    <record id="session_view_gantt" model="ir.ui.view">
      <field name="name">openacademy.session.view.gantt</field>
      <field name="model">openacademy.session</field>
      <field name="arch" type="xml">
        <gantt string="Session Gantt" date_start="start_date" date_stop="end_date">
        </gantt>
      </field>
    </record>

    <!-- graph view -->
    <record id="session_view_graph" model="ir.ui.view">
      <field name="name">openacademy.session.view.graph</field>
      <field name="model">openacademy.session</field>
      <field name="arch" type="xml">
        <graph string="Participations by Courses">
          <field name="course_id" />
          <field name="attendees_count" type="measure" />
        </graph>
      </field>
    </record>

    <!-- action -->
    <record id="session_list_action" model="ir.actions.act_window">
      <field name="name">Sessions</field>
      <field name="res_model">openacademy.session</field>
      <field name="view_mode">tree,form,calendar,gantt,graph</field>
    </record>

    <!-- menuitem -->
    <menuitem id="session_menu" name="Sessions" action="session_list_action" parent="openacademy_menu" />

  </data>
</odoo>